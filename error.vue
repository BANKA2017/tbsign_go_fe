<template>
    <NuxtLayout name="tbsign">
        <h1 class="text-6xl mb-5 mt-3">{{ code }}</h1>
        <p class="text-xl">ğŸˆš {{ errorMessage[code] ? errorMessage[code] : 'ä»€ä¹ˆé—®é¢˜ï¼Ÿ' }}ï¼Œå›<NuxtLink to="/" class="mx-1 underline underline-offset-4">é¦–é¡µ</NuxtLink>çœ‹çœ‹å§</p>
    </NuxtLayout>
</template>

<script setup lang="ts">
import type { PropType } from 'vue'
import type { NuxtError } from '@nuxt/types'
const props = defineProps({
    error: {
        type: Object as PropType<NuxtError>,
        default: { statusCode: 404 }
    }
})

const code = ref<number>(props.error.statusCode || 500)

useHead({
    script: [
        {
            innerHTML: `d=localStorage.darkMode||'0';c=document.documentElement.classList;v=c.value==='';if((d==='0'&&matchMedia('(prefers-color-scheme:dark)').matches&&v)||(d==='2'&&v)){c.add('dark')}`
        }
    ]
})

const errorMessage = {
    302: 'è·³è½¬ä¸­â€¦â€¦',
    404: 'æ ¹æœ¬æ²¡æœ‰è¿™ä¸ªé¡µé¢',
    500: 'ä¸ç”¨åˆ·æ–°äº†ï¼Œå·²ç»ç‚¸äº†'
}
</script>
